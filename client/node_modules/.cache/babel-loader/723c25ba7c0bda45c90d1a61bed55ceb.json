{"ast":null,"code":"var _jsxFileName = \"/Users/raghav.g/Documents/Development/Postgres project/client/src/Components/Trade.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Box from '@mui/material/Box';\nimport axios from 'axios';\nimport Card from '@mui/material/Card';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BasicCard(props) {\n  _s();\n\n  const [val, setVal] = React.useState(0);\n  const [total, setTotal] = React.useState(0);\n  const [price, setPrice] = React.useState(props.price);\n  const [pairprice, setpairprice] = React.useState(0); // console.log(props.price);\n\n  React.useEffect(() => {\n    setPrice(props.price);\n  });\n  React.useEffect(() => {\n    axios.get(`/${props.coin}`).then(res => {\n      setpairprice(res.data.rows.filter(price => price.exc === props.exchange));\n      console.log(\" trade data\");\n      console.log(res);\n      console.log(props.exchange);\n      console.log(res.data.filter(price => price.exc === props.exchange));\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  async function data_getter() {\n    await axios.get(`/${props.coin}`).then(res => {\n      setpairprice(res.data.rows.filter(price => price.exc === props.exchange));\n      console.log(\" trade data\");\n      console.log(res);\n      console.log(props.exchange); // console.log(res.data.filter(price=>price.exc===props.exchange));\n      // setPrice(pairprice[0].price);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  setTimeout(data_getter, 5000);\n\n  function submit(event) {\n    //  event.preventDefault();\n    var date = new Date();\n    date = date.getUTCFullYear() + ('00' + (date.getUTCMonth() + 1)).slice(-2) + ('00' + date.getUTCDate()).slice(-2) + ('00' + date.getUTCHours()).slice(-2) + ('00' + date.getUTCMinutes()).slice(-2) + ('00' + date.getUTCSeconds()).slice(-2);\n\n    if (parseInt(val) > 0) {\n      axios.post(\"http://localhost:3001/trades\", {\n        id: date,\n        quantity: parseInt(val),\n        currency: props.coin.toUpperCase(),\n        exchange_name: props.exchange,\n        price: pairprice[0].price,\n        total: parseInt(val) * pairprice[0].price,\n        execution: \"sucess\",\n        action: props.action\n      }).then(res => {\n        console.log(res.data);\n      });\n    } else {\n      alert(\"quantity should be greater than 0\");\n    }\n  } // format for storing date if needed \n  //  date = date.getUTCFullYear() + '-' +\n  //  ('00' + (date.getUTCMonth()+1)).slice(-2) + '-' +\n  //  ('00' + date.getUTCDate()).slice(-2) + ' ' + \n  //  ('00' + date.getUTCHours()).slice(-2) + ':' + \n  //  ('00' + date.getUTCMinutes()).slice(-2) + ':' + \n  //  ('00' + date.getUTCSeconds()).slice(-2);\n\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: event => submit(event),\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        minWidth: 275\n      },\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            fontSize: 14\n          },\n          color: \"text.secondary\",\n          gutterBottom: true,\n          children: \"Summary of Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"div\",\n          children: [\"Qty to \", props.action]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          style: {\n            borderRadius: \"5%\",\n            textAlign: \"centre\"\n          },\n          placeholder: \"Qty\",\n          value: val,\n          onChange: event => {\n            // console.log(event.target.value)\n            setVal(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            mb: 1.5\n          },\n          color: \"text.secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }, this), val > 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: [\"you are about to \", props.action, \" \", val, \" \", props.coin.toUpperCase(), \" from \", props.exchange.toUpperCase(), \" at a price of \", pairprice[0].price, \" per coin\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }, this) : null, val > 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n          children: [\"Total amount to be paid = \", pairprice[0] * val, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 16\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n        style: {\n          marginLeft: \"auto\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button submit\",\n          className: \"btn btn-outline-warning btn-lg\",\n          style: {\n            width: \"500px\"\n          },\n          children: \"Confirm Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n} // export default BasicCard\n\n_s(BasicCard, \"+Q2bE6ruQScsShAS08nTYKHJZuI=\");\n\n_c = BasicCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"BasicCard\");","map":{"version":3,"names":["React","Box","axios","Card","CardActions","CardContent","Button","Typography","BasicCard","props","val","setVal","useState","total","setTotal","price","setPrice","pairprice","setpairprice","useEffect","get","coin","then","res","data","rows","filter","exc","exchange","console","log","catch","err","data_getter","setTimeout","submit","event","date","Date","getUTCFullYear","getUTCMonth","slice","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","parseInt","post","id","quantity","currency","toUpperCase","exchange_name","execution","action","alert","minWidth","textAlign","fontSize","borderRadius","target","value","mb","marginLeft","width"],"sources":["/Users/raghav.g/Documents/Development/Postgres project/client/src/Components/Trade.jsx"],"sourcesContent":["import * as React from 'react';\nimport Box from '@mui/material/Box';\nimport axios from 'axios';\nimport Card from '@mui/material/Card';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\n\n\n\nexport default function BasicCard(props) {\n\n\n    const [val,setVal]=React.useState(0);\n    const [total,setTotal]=React.useState(0);\n\n    const [price,setPrice]=React.useState(props.price)\n\n    const [pairprice,setpairprice]=React.useState(0);\n\n      // console.log(props.price);\n    React.useEffect(()=>{\n      setPrice(props.price);\n    })\n\n    React.useEffect(() => {\n      axios.get(`/${props.coin}`)\n        .then((res) => {\n          setpairprice(res.data.rows.filter(price=>price.exc===props.exchange))\n          console.log(\" trade data\");\n          console.log(res);\n          console.log(props.exchange);\n          console.log(res.data.filter(price=>price.exc===props.exchange));\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },[]);\n\n    async function data_getter(){\n      await axios.get(`/${props.coin}`)\n      .then((res) => {\n        setpairprice(res.data.rows.filter(price=>price.exc===props.exchange))\n        console.log(\" trade data\");\n        console.log(res);\n        console.log(props.exchange);\n        // console.log(res.data.filter(price=>price.exc===props.exchange));\n        // setPrice(pairprice[0].price);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n\n    setTimeout(data_getter,5000);\n\n\n   function submit(event){\n      //  event.preventDefault();\n        var date =new Date()\n\n\n      date = date.getUTCFullYear() +\n      ('00' + (date.getUTCMonth()+1)).slice(-2) +\n      ('00' + date.getUTCDate()).slice(-2) + \n      ('00' + date.getUTCHours()).slice(-2)+ \n      ('00' + date.getUTCMinutes()).slice(-2) + \n      ('00' + date.getUTCSeconds()).slice(-2);\n\n      if(parseInt(val)>0){\n       axios.post(\"http://localhost:3001/trades\",\n       {\n         id:date,\n         quantity:parseInt(val),\n         currency:props.coin.toUpperCase(),\n         exchange_name:props.exchange,\n         price:pairprice[0].price,\n         total:parseInt(val)*pairprice[0].price,\n         execution:\"sucess\",\n         action:props.action\n      })\n      .then(res=>{\n        console.log(res.data)\n      })\n    }\n    else{\n      alert(\"quantity should be greater than 0\")\n    }\n  }\n\n      // format for storing date if needed \n     //  date = date.getUTCFullYear() + '-' +\n      //  ('00' + (date.getUTCMonth()+1)).slice(-2) + '-' +\n      //  ('00' + date.getUTCDate()).slice(-2) + ' ' + \n      //  ('00' + date.getUTCHours()).slice(-2) + ':' + \n      //  ('00' + date.getUTCMinutes()).slice(-2) + ':' + \n      //  ('00' + date.getUTCSeconds()).slice(-2);\n\n  return (\n    <form onSubmit={(event)=>submit(event)}>\n    <Card sx={{ minWidth: 275 }} style={{textAlign:\"center\"}}>\n      <CardContent>\n        <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\n          Summary of Order\n        </Typography>\n        <Typography variant=\"h5\" component=\"div\">\n          Qty to {props.action}\n        </Typography>\n        <input type=\"number\" style={{borderRadius:\"5%\",textAlign:\"centre\"}} placeholder=\"Qty\" value={val} onChange={(event)=>{\n          // console.log(event.target.value)\n          setVal(event.target.value)\n        }} ></input>\n        <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\n          {/* adjective */}\n        </Typography>\n\n        {val>0?\n        <Typography variant=\"body2\">\n          you are about to {props.action} {val} {props.coin.toUpperCase()} from {props.exchange.toUpperCase()} at a price of {pairprice[0].price} per coin \n          <br></br>\n        </Typography>\n        :null\n        }\n        {/* {console.log(pairprice[0],\"hello\")} */}\n        {val>0?<Typography>Total amount to be paid = {pairprice[0]*val} </Typography>:null}\n        {/* <Typography>Total amount to be paid = {price*val} </Typography> */}\n        \n        <br></br>\n        \n      </CardContent>\n      <CardActions style={{marginLeft:\"auto\"}}>\n        {/* <Button size=\"small\" >Confirm Order</Button> */}\n        <button type=\"button submit\" className=\"btn btn-outline-warning btn-lg\" style={{width:\"500px\"}} >Confirm Order</button>\n      </CardActions>\n    </Card>\n    </form>\n  );\n}\n\n// export default BasicCard"],"mappings":"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"},"metadata":{},"sourceType":"module"}